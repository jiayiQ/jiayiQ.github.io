<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-EQR4SBHNXR"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-EQR4SBHNXR");
    </script>

    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title></title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="twitter:image:src" content="" />
    <meta property="og:image" content="" />

    <script>
      fetch("metaTags.json") // Replace with the correct JSON file path
        .then((response) => response.json())
        .then((data) => {
          // Update the meta tags with data from JSON
          document.title = data.title;
          document.querySelector('meta[name="description"]').content =
            data.description;
          document.querySelector('meta[name="keywords"]').content =
            data.keywords;
          document.querySelector('meta[name="twitter:image:src"]').content =
            data.twitterImageSrc;
          document.querySelector('meta[property="og:image"]').content =
            data.ogImage;
        })
        .catch((error) => {
          console.error("Error fetching JSON data:", error);
        });
    </script>

    <!-- Favicon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="favicon_io/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="favicon_io/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="favicon_io/favicon-16x16.png"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
      crossorigin="anonymous"
    />

    <!-- My CSS -->
    <link rel="stylesheet" href="css/styles.css" />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;400;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="fontawesome-free-5.15.1-web/css/all.css" />
  </head>

  <body>
    <div class="container">
      <!-- Jumbotron -->
      <div class="row">
        <div
          class="jumbotron jumbotron-bg jumbo-size col-sm-12 col-sm-offset-0"
          id="jumbotron-data"
        ></div>
      </div>
      <!-- Jumbotron -->

      <!-- Cards -->
      <div class="container">
        <div class="row" id="card-container"></div>
      </div>
      <!-- Cards -->
    </div>

    <script>
      // Fetch the JSON data
      fetch("personalData.json") // Replace with the correct JSON file path
        .then((response) => response.json())
        .then((data) => {
          const jumbotronData = document.getElementById("jumbotron-data");

          const h1 = document.createElement("h1");
          h1.className = "display-4";

          const name = document.createElement("span");
          name.id = "thick-text";
          name.textContent = data.name;

          const title = document.createElement("span");
          title.id = "thick-text";
          title.textContent = data.title;

          h1.appendChild(name);

          const pTitle = document.createElement("p");
          pTitle.className = "title";
          pTitle.textContent = data.title;

          const pIntro = document.createElement("p");
          pIntro.className = "intro";
          pIntro.textContent = data.intro;

          const portfolioLink = document.createElement("a");
          portfolioLink.href = data.portfolioLink;
          portfolioLink.textContent =
            "Scroll down to see my selected work or click here";

          pIntro.appendChild(document.createElement("br"));
          pIntro.appendChild(portfolioLink);

          const socialIcons = document.createElement("div");
          socialIcons.className = "social-icons";

          data.socialIcons.forEach((iconData) => {
            const iconLink = document.createElement("a");
            iconLink.href = iconData.link;
            const icon = document.createElement("i");
            icon.className = iconData.iconClass;
            iconLink.appendChild(icon);
            socialIcons.appendChild(iconLink);
          });

          jumbotronData.appendChild(h1);
          jumbotronData.appendChild(pTitle);
          jumbotronData.appendChild(pIntro);
          jumbotronData.appendChild(socialIcons);
        })
        .catch((error) => {
          console.error("Error fetching JSON data:", error);
        });
    </script>

    <script>
      // Fetch the JSON data
      fetch("portfolioData.json")
        .then((response) => response.json())
        .then((data) => {
          const cardContainer = document.getElementById("card-container");
          let row; // Initialize a variable to track the current row

          // Loop through the JSON data and create card elements
          data.forEach((item, index) => {
            if (index % 3 === 0) {
              // Create a new row for every three cards
              row = document.createElement("div");
              row.className = "row";
            }

            const col = document.createElement("div");
            col.className = "col-md-4";

            const card = document.createElement("div");
            card.className = "card";

            const cardLink = document.createElement("a");
            cardLink.href = item.link;
            cardLink.target = "_blank";

            const cardDiv = document.createElement("div");
            cardDiv.className = "card-body";

            const badge = document.createElement("small");
            badge.className = "text-muted";

            const badgeSpan = document.createElement("span");
            badgeSpan.className = "badge badge-pill badge-color";
            badgeSpan.textContent = item.source;
            badge.appendChild(badgeSpan);

            const cardImage = document.createElement("img");
            cardImage.className = "card-img-top";
            cardImage.src = item.image;
            cardImage.alt = item.title;

            const cardTitle = document.createElement("h2");
            cardTitle.className = "card-title";
            cardTitle.textContent = item.title;

            const cardText = document.createElement("p");
            cardText.className = "card-text";
            cardText.textContent = item.description;

            // Append elements to the card
            cardDiv.appendChild(badge);
            cardDiv.appendChild(cardImage);
            cardDiv.appendChild(cardTitle);
            cardDiv.appendChild(cardText);

            cardLink.appendChild(cardDiv);
            card.appendChild(cardLink);

            col.appendChild(card); // Add the card to the column
            row.appendChild(col); // Add the column to the row

            if ((index + 1) % 3 === 0 || index === data.length - 1) {
              // Add the row to the container for every three cards or the last row
              cardContainer.appendChild(row);
            }
          });
        })
        .catch((error) => {
          console.error("Error fetching JSON data:", error);
        });
    </script>

    <!-- Footer -->
    <footer class="page-footer">
      <div class="footer-copyright text-center py-3">
        Â© <span id="year"></span> Copyright <span id="name"></span>
      </div>
    </footer>
    <!-- Footer -->

    <script>
      fetch("personalData.json") // Replace with the correct JSON file path
        .then((response) => response.json())
        .then((data) => {
          // Update the footer with data from JSON
          document.getElementById("name").textContent = data.name;

          // Automatically update the year
          const yearSpan = document.getElementById("year");
          const currentYear = new Date().getFullYear();
          yearSpan.textContent = currentYear;
        })
        .catch((error) => {
          console.error("Error fetching JSON data:", error);
        });
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
      integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
      crossorigin="anonymous"
    ></script>
    <!-- Fade-in effect -->
    <script>
      document.body.className += " fade-out";
    </script>
    <script>
      $(function () {
        $("body").removeClass("fade-out");
      });
    </script>
  </body>
</html>
